

        <mat-tab-group [(selectedIndex)]="selectedIndex">
            <mat-tab #tab1 label="Associate Information"> <app-associate-info (addEvent)="addAssociateInfo($event)"></app-associate-info> </mat-tab>
            <mat-tab #tab2 label="Associate Details" [disabled]="!isDetailpage" > 
                <div *ngIf= "isDetailpage">
                    <form class="form" [formGroup]="DetailForm" (ngSubmit)="updateAssociateDetail()"> 
                        <div class = "full-width">    
                            <mat-form-field appearance="fill">
                                <label >EngagementName</label>
                                <input matInput   id="name"
                                    required 
                                    formControlName="engagementName" name="name">
                                    <mat-error *ngIf="DetailForm.value.engagementName">EngagementName is required</mat-error>
                            </mat-form-field>
                           
                            <mat-form-field appearance="fill">
                                <label >Major Function</label>
                                <input matInput   id="name"
                                    required
                                    formControlName="majorFunction" name="name">
                                    <mat-error *ngIf="DetailForm.value.majorFunction">MajorFunction is required</mat-error>
                            </mat-form-field>
                        </div>
                       <div class = "full-width">   
                        <mat-form-field appearance="fill">
                            <label >Band</label>
                            <input matInput   id="name" required
                                formControlName="band" name="name">
                                <mat-error *ngIf="DetailForm.value.band">Band is required</mat-error>
                            </mat-form-field>
        
                        <mat-form-field appearance="fill">
                            <label >Email Client</label>
                            <input matInput   id="name"
                                required
                                formControlName="emailClient" name="name">
                                <mat-error *ngIf="DetailForm.value.emailClient">EmailClient is required</mat-error>
                            </mat-form-field>        
                      </div>
        
                      <div class = "full-width">
                        <mat-form-field appearance="fill">
                        <label >Xid</label>
                        <input matInput   id="name"
                               required
                               formControlName="xid" name="name">
                               <mat-error *ngIf="DetailForm.value.xid">Xid is required</mat-error>
                            </mat-form-field>       
        
                      <mat-form-field appearance="fill">
                        <label >Client Manager</label>
                        <input matInput   id="name"
                               required
                               formControlName="clientManager" name="name">
                               <mat-error *ngIf="DetailForm.value.clientManager">ClientManager is required</mat-error>
                            </mat-form-field>       
                        </div>
        
                        <div class = "full-width">
                            <mat-form-field appearance="fill">
                                <mat-label>End date</mat-label>
                                <input matInput formControlName="endDate" [matDatepicker]="picker8">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matSuffix [for]="picker8"></mat-datepicker-toggle>
                                <mat-datepicker #picker8></mat-datepicker>
                              </mat-form-field>
                      
        
                      <mat-form-field appearance="fill">
                        <label >Location</label>
                        <input matInput   id="name"
                               required
                               formControlName="location" name="name">
                               <mat-error *ngIf="DetailForm.value.location">Location is required</mat-error>
                            </mat-form-field>               
                      </div>
        
                      <div class = "full-width">
                      <mat-form-field appearance="fill">
                        <label >City</label>
                        <input matInput   id="name"
                               required
                               formControlName="city" name="name">
                               <mat-error *ngIf="DetailForm.value.city">City is required</mat-error>
                            </mat-form-field>        
        
                            
                              <mat-form-field appearance="fill">
                                <mat-label>Bill Type</mat-label>
                                <mat-select required formControlName="billType">
                                    <mat-option *ngFor="let billtype of billtypes" [value]="billtype.value">
                                      {{billtype.value}}
                                    </mat-option>
                                  </mat-select>
                              </mat-form-field>          
                      </div>
                      
                      <div class = "full-width">
                        <mat-form-field appearance="fill">
                          <label >Bill Code</label>
                          <input matInput   id="name"
                                 required
                                 formControlName="billCode" name="name">
                                 <mat-error *ngIf="DetailForm.value.billCode">BillCode is required</mat-error>
                              </mat-form-field>        
          
                        <mat-form-field appearance="fill">
                          <label >Role</label>
                          <input matInput   id="name"
                                 required
                                 formControlName="role" name="name">
                                 <mat-error *ngIf="DetailForm.value.role">Role is required</mat-error>
                              </mat-form-field>          
                        </div>

                        <div class = "full-width">
                            <mat-form-field appearance="fill">
                                <mat-label>As On Date</mat-label>
                                <input matInput formControlName="asOnDate" [matDatepicker]="picker1">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                              </mat-form-field>
                              <mat-form-field appearance="fill">
                                <mat-label>Client Exp Date</mat-label>
                                <input matInput formControlName="clientExpDate" [matDatepicker]="picker3">
                                <mat-hint>MM/DD/YYYY</mat-hint>
                                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                <mat-datepicker #picker3></mat-datepicker>
                              </mat-form-field>
                              </div>

                              <div class = "full-width">
                                <mat-form-field appearance="fill">
                                    <mat-label>IT Exp Date</mat-label>
                                    <input matInput formControlName="itExpDate" [matDatepicker]="picker4">
                                    <mat-hint>MM/DD/YYYY</mat-hint>
                                    <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                    <mat-datepicker #picker4></mat-datepicker>
                                  </mat-form-field>
                                  <mat-form-field appearance="fill">
                                    <mat-label>IBM Date</mat-label>
                                    <input matInput formControlName="ibmDate" [matDatepicker]="picker5">
                                    <mat-hint>MM/DD/YYYY</mat-hint>
                                    <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                    <mat-datepicker #picker5></mat-datepicker>
                                  </mat-form-field>
                                  </div>
                                  
                                  <div class = "full-width">
                                    <mat-form-field appearance="fill">
                                      <label >ExperienceWithClient</label>
                                      <input matInput   id="name"
                                             required
                                             formControlName="experienceWithPru" name="name">
                                             <mat-error *ngIf="DetailForm.value.experienceWith">ExperienceWithClient is required</mat-error>
                                          </mat-form-field>        
                      
                                    <mat-form-field appearance="fill">
                                      <label >CareerExperience</label>
                                      <input matInput   id="name"
                                             required
                                             formControlName="careerExperience" name="name">
                                             <mat-error *ngIf="DetailForm.value.careerExperience">CareerExperience is required</mat-error>
                                          </mat-form-field>          
                                    </div>

                                    <div class = "full-width">
                                        <mat-form-field appearance="fill">
                                          <label >ExperienceWithIbm</label>
                                          <input matInput   id="name"
                                                 required
                                                 formControlName="experienceWithIbm" name="name">
                                                 <mat-error *ngIf="DetailForm.value.experienceWithIbm">ExperienceWithIbm is required</mat-error>
                                              </mat-form-field>        
                          
                                        <mat-form-field appearance="fill">
                                          <label >ResourceCriticality</label>
                                          <input matInput   id="name"
                                                 required
                                                 formControlName="resourceCriticality" name="name">
                                                 <mat-error *ngIf="DetailForm.value.resourceCriticality">ResourceCriticality is required</mat-error>
                                              </mat-form-field>          
                                        </div>

                                        <div class = "full-width">
                                            <mat-form-field appearance="fill">
                                              <label >AtImmigrationVisaRisks</label>
                                              <input matInput   id="name"
                                                     required
                                                     formControlName="atImmigrationVisaRisks" name="name">
                                                     <mat-error *ngIf="DetailForm.value.atImmigrationVisaRisks">AtImmigrationVisaRisks is required</mat-error>
                                                  </mat-form-field>        
                              
                                            <mat-form-field appearance="fill">
                                              <label >BackupSuccessorResource</label>
                                              <input matInput   id="name"
                                                     required
                                                     formControlName="backupSuccessorResource" name="name">
                                                     <mat-error *ngIf="DetailForm.value.backupSuccessorResource">BackupSuccessorResource is required</mat-error>
                                                  </mat-form-field>          
                                            </div>

                                            <div class = "full-width">
                                                <mat-form-field appearance="fill">
                                                  <label >KeyContingencyGroup</label>
                                                  <input matInput   id="name"
                                                         required
                                                         formControlName="keyContingencyGroup" name="name">
                                                         <mat-error *ngIf="DetailForm.value.keyContingencyGroup">KeyContingencyGroup is required</mat-error>
                                                      </mat-form-field>        
                                  
                                                <mat-form-field appearance="fill">
                                                  <label >Additional Contingency</label>
                                                  <input matInput   id="name"
                                                         required
                                                         formControlName="additionalContingency" name="name">
                                                         <mat-error *ngIf="DetailForm.value.additionalContingency">AdditionalContingency is required</mat-error>
                                                      </mat-form-field>          
                                                </div>

                                                <div class = "full-width">
                                                    <mat-form-field appearance="fill">
                                                      <label >Visa Type</label>
                                                      <input matInput   id="name"
                                                             required
                                                             formControlName="visaType" name="name">
                                                             <mat-error *ngIf="DetailForm.value.visaType">VisaType is required</mat-error>
                                                          </mat-form-field>        
                                      
                                                    <mat-form-field appearance="fill">
                                                      <label >Work Permit Valid Until</label>
                                                      <input matInput   id="name"
                                                             required
                                                             formControlName="workPermitValidUntil" name="name">
                                                             <mat-error *ngIf="DetailForm.value.workPermitValidUntil">WorkPermitValidUntil is required</mat-error>
                                                          </mat-form-field>          
                                                    </div>
                                                    <div class = "full-width">
                                                        <mat-form-field appearance="fill">
                                                            <mat-label>Extension Updates</mat-label>
                                                            <input matInput formControlName="extensionUpdates" [matDatepicker]="picker6">
                                                            <mat-hint>MM/DD/YYYY</mat-hint>
                                                            <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker6></mat-datepicker>
                                                          </mat-form-field>
                                                          <mat-form-field appearance="fill">
                                                            <mat-label>Visa Max OutDate</mat-label>
                                                            <input matInput formControlName="visaMaxOutDate" [matDatepicker]="picker7">
                                                            <mat-hint>MM/DD/YYYY</mat-hint>
                                                            <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker7></mat-datepicker>
                                                          </mat-form-field>
                                                          </div>

                                                          <div class = "full-width">
                                                            <mat-form-field appearance="fill">
                                                              <label >Risk Mitigation Comments</label>
                                                              <input matInput   id="name"
                                                                     required
                                                                     formControlName="riskMitigationComments" name="name">
                                                                     <mat-error *ngIf="DetailForm.value.riskMitigationComments">RiskMitigationComments is required</mat-error>
                                                                  </mat-form-field>        
                                              
                                                            <mat-form-field appearance="fill">
                                                              <label >PlanInCaseOfExtensionAmendmentRejection</label>
                                                              <input matInput   id="name"
                                                                     required
                                                                     formControlName="planInCaseOfExtensionAmendmentRejection" name="name">
                                                                     <mat-error *ngIf="DetailForm.value.planInCaseOfExtensionAmendmentRejection">PlanInCaseOfExtensionAmendmentRejection is required</mat-error>
                                                                  </mat-form-field>          
                                                            </div>

                                                            <div class = "full-width">
                                                                <mat-form-field appearance="fill">
                                                                  <label >Time Left In Us</label>
                                                                  <input matInput   id="name"
                                                                         required
                                                                         formControlName="timeLeftInUs" name="name">
                                                                         <mat-error *ngIf="DetailForm.value.timeLeftInUs">TimeLeftInUs is required</mat-error>
                                                                      </mat-form-field>        
                                                  
                                                                <mat-form-field appearance="fill">
                                                                  <label >Visa Nominations</label>
                                                                  <input matInput   id="name"
                                                                         required
                                                                         formControlName="visaNominations" name="name">
                                                                         <mat-error *ngIf="DetailForm.value.visaNominations">VisaNominations is required</mat-error>
                                                                      </mat-form-field>          
                                                                </div>

                      <div class = "full-width"> 
                        <button mat-raised-button type="submit" color="primary">Next</button>
                      </div>
                    </form>
                 </div>
            </mat-tab>
               
            <mat-tab #tab3 label="Associate Skills">               
                <div *ngIf ="isSkillPage">
                 <ng-container *ngTemplateOutlet="skillTemplate"></ng-container>
                </div>
                <ng-template #skillTemplate>
                    <div *ngFor="let form of skillForm; let f = index">
                    <form [formGroup]="form">
                        <div class = "full-width">                             
                                  <mat-form-field appearance="fill">
                                    <mat-label>Skill Name</mat-label>
                                    <mat-select required formControlName="skillName">
                                        <mat-option *ngFor="let skill of skills" [value]="skill.value">
                                          {{skill.value}}
                                        </mat-option>
                                      </mat-select>
                                  </mat-form-field>

                                  <mat-form-field appearance="fill">
                                    <mat-label>Skill Rating</mat-label>
                                    <mat-select required formControlName="skillRating">
                                        <mat-option *ngFor="let rate of rates" [value]="rate.value">
                                          {{rate.value}}
                                        </mat-option>
                                      </mat-select>
                                  </mat-form-field>
                           
                            </div>                          
            
                            </form>
                        </div>
                </ng-template>

                <div class = "full-width"> 
                    <button mat-raised-button  (click)="addNewSkillForm()" color="primary">Add Skill Form</button>
                    <button mat-raised-button type="submit" (click)="saveAssociateCompleteDetail()" color="primary">Submit</button>
                  </div>
            </mat-tab>
          </mat-tab-group>
          